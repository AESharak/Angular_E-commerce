<div class="card h-100 shadow-sm position-relative">
  @if (product.stock > 0) {
  <span class="badge bg-success position-absolute top-0 start-0 m-2 z-3"
    >In Stock</span
  >
  } @else {
  <span class="badge bg-danger position-absolute top-0 start-0 m-2 z-3"
    >Out of Stock</span
  >
  }
  <div class="ratio ratio-4x3">
    <img
      [src]="product.images[0]"
      class="card-img-top object-fit-contain p-2"
      alt="product image"
    />
  </div>
  <div class="card-body d-flex flex-column">
    <div class="d-flex justify-content-between align-items-start mb-2">
      <h5 class="card-title text-truncate">{{ product.title }}</h5>
    </div>
    <p class="card-text line-clamp mb-2">{{ product.description }}</p>
    <div class="d-flex justify-content-between align-items-center mt-2">
      <p-rating
        [ngModel]="product.rating"
        [readonly]="true"
        [cancel]="false"
        [style]="{ color: '#FFD700' }"
      ></p-rating>
      <p class="card-text fs-5 fw-bold mb-0">${{ product.price }}</p>
    </div>
    <button
      class="btn btn-dark mt-3"
      [disabled]="product.stock === 0"
      (click)="addToCart()"
    >
      Add to Cart
    </button>
  </div>
</div>
